# 双人对抗单词闯关游戏 - 产品需求文档 (PRD) - 第1部分

## 📋 文档信息
- **版本**: v1.0
- **创建日期**: 2024年12月
- **产品名称**: 单词闯关 - 双人对抗版
- **目标用户**: 小学三年级至高中学生

## 🎯 产品概述

### 产品定位
将现有的单人单词学习游戏升级为在线双人对抗游戏，通过融合经典小游戏的方式，让单词学习更具趣味性和竞技性。

### 核心价值
- **学习效果**: 通过对抗激发学习动力，提高记忆效果
- **社交互动**: 增加好友对战、实时互动功能
- **游戏化**: 将枯燥的背单词转化为有趣的竞技游戏
- **个性化**: 根据年级匹配合适的词库和难度

## 🎮 核心功能

### 1. 用户系统
#### 1.1 登录注册
- **第三方登录**: 支持微信、QQ快速登录
- **用户信息**: 昵称、年级、头像、学习进度
- **数据同步**: 跨设备数据同步

#### 1.2 用户档案
- **学习统计**: 总游戏次数、胜率、最高连胜
- **成就系统**: 学习徽章、等级系统
- **好友系统**: 添加好友、查看好友战绩

### 2. 游戏系统
#### 2.1 匹配系统
- **快速匹配**: 根据年级和水平自动匹配
- **好友对战**: 邀请好友进行私人对战
- **房间系统**: 创建/加入房间，支持观战

#### 2.2 对战模式
- **三关卡设计**: 保持原有的三个关卡结构
- **小游戏融合**: 每关卡随机匹配一个小游戏
- **实时对抗**: 答题结果实时影响小游戏进度

#### 2.3 小游戏库
基于提供的13个小游戏，每次开局随机抽取：
1. 登天梯 (Tower Climb Race)
2. 单词魔法战 (Word Wizards Duel)
3. 词力拔河 (Word Power Tug-of-War)
4. 单词消消乐 (Word Block Puzzle)
5. 单词寻宝 (Word Treasure Hunt)
6. 单词农场经营 (Word Farm Tycoon)
7. 贪吃蛇 (Snake Variation)
8. 层层叠高塔 (Tower Builders)
9. 推力相扑 (Sumo Push)
10. 夺宝奇兵 (Treasure Raiders)
11. 色彩领域 (Color Domain)
12. 眼疾手快接金币 (Coin Catcher Deluxe)
13. 警察抓小偷 (Cop and Thief)

## 📱 页面设计详细说明

### 1. 登录页面 (login.html)
#### 页面布局
```
┌─────────────────────────────────────┐
│              游戏LOGO               │
│            单词闯关对战版            │
├─────────────────────────────────────┤
│                                     │
│    [微信登录按钮]  [QQ登录按钮]      │
│                                     │
│         或者                        │
│                                     │
│    ┌─────────────────────────┐      │
│    │     输入昵称             │      │
│    └─────────────────────────┘      │
│                                     │
│    年级选择: [下拉菜单]              │
│                                     │
│    [游客模式进入]                    │
│                                     │
├─────────────────────────────────────┤
│    隐私政策  |  用户协议             │
└─────────────────────────────────────┘
```

#### 页面元素详细说明
1. **顶部区域**
   - 游戏LOGO: 200x80px，居中显示
   - 游戏标题: "单词闯关 - 双人对战版"，24px字体
   - 版本号: 右上角显示，12px灰色字体

2. **登录区域**
   - 微信登录按钮: 绿色背景，白色文字，图标+文字
   - QQ登录按钮: 蓝色背景，白色文字，图标+文字
   - 按钮尺寸: 280x50px，圆角8px

3. **快速注册区域**
   - 昵称输入框: 280x45px，占位符"请输入昵称"
   - 年级选择: 下拉菜单，选项包括"三年级"到"高三"
   - 游客模式按钮: 灰色边框，透明背景

4. **底部链接**
   - 隐私政策和用户协议链接，14px字体

### 2. 游戏大厅 (lobby.html)
#### 页面布局
```
┌─────────────────────────────────────┐
│  [头像] 昵称 | 等级Lv.5 | [设置]    │
├─────────────────────────────────────┤
│              今日战绩               │
│    胜: 5场  负: 2场  连胜: 3场      │
├─────────────────────────────────────┤
│                                     │
│    ┌─────────────────────────┐      │
│    │      [快速匹配]          │      │
│    │    寻找同年级对手         │      │
│    └─────────────────────────┘      │
│                                     │
│    ┌─────────────────────────┐      │
│    │      [好友对战]          │      │
│    │    邀请好友一起玩         │      │
│    └─────────────────────────┘      │
│                                     │
│    ┌─────────────────────────┐      │
│    │      [创建房间]          │      │
│    │    自定义游戏规则         │      │
│    └─────────────────────────┘      │
│                                     │
├─────────────────────────────────────┤
│              在线好友               │
│  [头像] 小明 - 在线  [邀请对战]      │
│  [头像] 小红 - 游戏中               │
├─────────────────────────────────────┤
│    [排行榜] [成就] [商店] [设置]     │
└─────────────────────────────────────┘
```

#### 页面元素详细说明
1. **用户信息栏**
   - 用户头像: 50x50px圆形头像
   - 昵称显示: 16px字体，最多显示8个字符
   - 等级显示: 当前等级和经验条
   - 设置按钮: 齿轮图标，点击进入设置页面

2. **战绩统计**
   - 今日胜负场数统计
   - 当前连胜记录
   - 背景使用渐变色卡片设计

3. **游戏模式选择**
   - 快速匹配: 主要按钮，绿色背景
   - 好友对战: 蓝色背景
   - 创建房间: 橙色背景
   - 按钮尺寸: 300x80px，包含图标和描述文字

4. **好友列表**
   - 显示在线好友状态
   - 支持直接邀请对战
   - 最多显示5个好友，超出可滚动

5. **底部导航**
   - 四个功能按钮，图标+文字设计

### 3. 匹配等待页面 (matching.html)
#### 页面布局
```
┌─────────────────────────────────────┐
│              正在匹配               │
│                                     │
│         [旋转动画图标]              │
│                                     │
│        寻找合适的对手中...           │
│                                     │
│        预计等待时间: 30秒            │
│                                     │
│    ┌─────────────────────────┐      │
│    │        [取消匹配]        │      │
│    └─────────────────────────┘      │
│                                     │
│              匹配条件               │
│        年级: 五年级                 │
│        模式: 快速匹配               │
│                                     │
└─────────────────────────────────────┘
```

#### 页面元素详细说明
1. **匹配状态显示**
   - 标题: "正在匹配"，24px字体
   - 动画图标: CSS旋转动画，表示匹配进行中
   - 状态文字: 动态更新匹配状态

2. **等待时间**
   - 倒计时显示预计等待时间
   - 超时后提示重新匹配

3. **取消按钮**
   - 红色边框按钮，允许用户取消匹配

4. **匹配条件**
   - 显示当前匹配的年级和模式

### 4. 对战准备页面 (battle-ready.html)
#### 页面布局
```
┌─────────────────────────────────────┐
│              找到对手！             │
├─────────────────────────────────────┤
│                                     │
│  [我的头像]              [对手头像]  │
│    我的昵称                对手昵称  │
│   五年级 Lv.5            六年级 Lv.4 │
│   胜率: 75%              胜率: 68%   │
│                                     │
├─────────────────────────────────────┤
│              游戏信息               │
│                                     │
│    本局小游戏: 警察抓小偷            │
│    词库: 五年级上册                 │
│    关卡数: 3关                      │
│                                     │
├─────────────────────────────────────┤
│                                     │
│        倒计时: 5秒后开始             │
│                                     │
│    ┌─────────────────────────┐      │
│    │        [准备就绪]        │      │
│    └─────────────────────────┘      │
│                                     │
└─────────────────────────────────────┘
```

#### 页面元素详细说明
1. **对手信息对比**
   - 左右对称布局显示双方信息
   - 头像: 80x80px圆形头像
   - 昵称、年级、等级、胜率信息

2. **游戏信息**
   - 显示本局随机选择的小游戏
   - 词库信息
   - 游戏规则简介

3. **准备状态**
   - 倒计时显示
   - 准备按钮，双方都准备后开始游戏

### 5. 对战界面 (battle.html)
#### 页面布局
```
┌─────────────────────────────────────┐
│  [我] 小明 3/5  VS  小红 2/5 [对手]  │
├─────────────────────────────────────┤
│                                     │
│        小游戏区域 (动态内容)         │
│                                     │
│    ┌─────────────────────────┐      │
│    │                         │      │
│    │     警察抓小偷游戏        │      │
│    │                         │      │
│    │  👮‍♂️ ←─────→ 🏃‍♂️         │      │
│    │                         │      │
│    └─────────────────────────┘      │
│                                     │
├─────────────────────────────────────┤
│              答题区域               │
│                                     │
│    题目: apple                      │
│    中文意思是?                      │
│                                     │
│    ┌─────────────────────────┐      │
│    │      [输入答案]          │      │
│    └─────────────────────────┘      │
│                                     │
│    [确认] | 剩余时间: 12秒           │
│                                     │
├─────────────────────────────────────┤
│    关卡: 1/3 | 题目: 5/10           │
└─────────────────────────────────────┘
```

#### 页面元素详细说明
1. **对战状态栏**
   - 双方昵称和当前得分
   - 实时更新对战状态

2. **小游戏区域**
   - 动态加载不同的小游戏界面
   - 根据答题结果实时更新游戏状态
   - 尺寸: 350x200px

3. **答题区域**
   - 题目显示: 18px字体，居中显示
   - 答案输入框: 280x45px
   - 确认按钮和倒计时

4. **进度信息**
   - 当前关卡和题目进度
   - 底部固定显示
